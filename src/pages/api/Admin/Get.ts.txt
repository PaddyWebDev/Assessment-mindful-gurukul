import Query from "@/pages/libraries/DBconn";
import VerifyAdmin from "@/pages/libraries/VerifyAdmin";
import { NextRequest, NextResponse } from "next/server";

export default async function GET(req: NextRequest) {
  try {
    const AdminId = await VerifyAdmin(req);
    const User: any = await Query(
      "SELECT * FROM admindata WHERE adminId = ? ",
      [AdminId]
    );
    return NextResponse.json({
      message: "User Found",
      data: User,
    });
  } catch (error) {
    console.log(error);
  }
}
